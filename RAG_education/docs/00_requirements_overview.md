# 要件整理（新人向け・超軽量版）

RAGを利用したクイズ形式の教育用学習アプリ
※AI駆動開発前提／詳細設計はAIと一緒に作る想定

---

## この資料の目的（新人向け）

- 「**最終的に何を作ればよいか**」を明確にする
- 要件整理 → 設計 → 実装 → テスト → 納品、の**流れを一通り経験**する
- 細かい仕様は **AI（ChatGPT等）と対話しながら詰めてOK**

---

## システムで実現したいこと（再確認）

### ① RAG質問応答機能

- 新人が「わからないこと」を自然言語で質問
- 教育マニュアルをRAGに取り込み、根拠付きで回答する

### ② 理解度テスト（クイズ）機能

- 初級 / 中級 / 上級 の3段階
- マニュアル内容を元にクイズをランダム生成
- **5問1セットで出題し、最後に正答率を表示**
- **出題形式もランダム**（一問一答、穴埋め、○×判定、比較説明、理由説明、具体例）
- 新人の自然言語回答に対して
  - ○×判定＋スコア（0.0〜1.0）
  - 間違っていた場合は解説を返す

### ③ 問題演習（4択ドリル）機能

- 4択形式の選択問題
- マニュアル内容を元にAIが自動生成
- 即座に正誤判定＋解説表示

### ④ ユーザー認証・学習履歴

- Firebase Authentication でメール/パスワード＋Google ログイン
- Firestore でクイズ・演習の結果を保存
- 学習記録ダッシュボードで正答率・連続学習日数を表示

※ LLMは **Gemini API（gemini-2.5-flash）** を使用
※ クラウドデプロイは **AWS Free Tier**（Lambda + API Gateway + S3）

---

## 新人が「作成すべき成果物」一覧

以下を**順番に作ればOK**です。

---

## 1. 要件定義書（必須）

### 目的

- 「何を作るか／何を作らないか」を明確にする

### 書く内容（最低限）

- 目的・ゴール
- 対象ユーザー
- 機能一覧
  - RAG質問応答
  - クイズ（初級・中級・上級、5問1セット）
  - 問題演習（4択ドリル）
  - ユーザー認証・学習履歴
- 非機能要件（簡単でOK）
  - 技術スタック（Vite+React / Python / Gemini API）
- 今回やらないこと（重要）
　- 記述回答の完全一致
　- マニュアルの動的アップロード

💡ヒント
> 「10営業日で作れる最小構成（MVP）」を意識する
> 書きすぎなくてOK。**後で変更してもOK**

---

## 2. 基本設計書（必須）

### 目的

- システムの全体像を掴むための設計

### 書く内容（軽くでOK）

- システム構成図（手書き or ASCIIでOK）
  - フロント（Vite + React + TypeScript）
  - バックエンド（Python FastAPI）
  - RAG（ベクトルDB + Gemini API）
  - 認証（Firebase Auth）
  - 履歴（Firestore）
- 画面一覧
  - ログイン画面
  - QA画面
  - クイズ画面（5問セット + 正答率）
  - 問題演習画面
  - 学習記録ダッシュボード
- データの流れ
  - 質問 → RAG検索 → LLM → 回答
  - クイズ生成 → 回答 → 判定 → 5問完了 → 正答率表示

💡ヒント
> 「このAPIは何のためにあるか」が分かれば十分

---

## 3. API設計書（必須）

### 目的

- フロントとバックエンドの役割を分けるため

### 最低限作るAPI

- 質問応答API
- クイズ生成API
- クイズ判定API
- 問題演習生成API
- 問題演習回答API
- 学習統計API
- ヘルスチェックAPI

### 書く内容（簡易でOK）

- API名
- HTTPメソッド
- リクエスト内容（JSON例）
- レスポンス内容（JSON例）

💡ヒント
> 型や項目は **実装しながら変えてOK**
> まずは「形」を作ることが目的

---

## 4. 詳細設計書（必須）

※ AI駆動開発なので **薄くてOK**

### 書くならこの程度

- RAGの処理手順（箇条書き）
  1. マニュアルを分割
  2. Embedding作成（Gemini Embedding API）
  3. 類似検索（コサイン類似度）
  4. プロンプトに埋め込む（プロンプトファイルから読込）
- クイズ判定の考え方
  - 正解かどうかをLLMに判定させる
  - スコア（0.0〜1.0）で部分正解にも対応

💡ヒント
> 詳細設計は **コード＝設計**でもOK
> 書くなら「自分が忘れそうなこと」だけ

---

## 5. 実装（必須）

### 実装対象

- Vite + React + TypeScript（画面）
- Python FastAPI（API）
- RAG処理（Gemini Embedding + ベクトル検索）
- Firebase 認証 + Firestore 履歴

💡ヒント
> 先に「動く最小構成」を作る
> 完璧を目指さない

---

## 6. テスト仕様メモ（必須・簡易）

### 書く内容

- 正常系
  - 質問すると回答が返る
  - クイズ5問で正答率が表示される
  - 問題演習で4択が表示される
  - ログイン/ログアウトが動作する
- 異常系
  - 空入力
  - 判定不能な回答
  - 未認証時の動作

💡ヒント
> チェックリスト形式でOK
> テストコードがなくても可

---

## 7. README（必須）

### 書く内容

- 環境構築手順
- 起動方法
- 使い方
- デプロイ方法
- 注意点

💡ヒント
> 「自分以外の新人が動かせるか？」が基準

---

## 成果物まとめ（最終提出物）

- 要件定義書
- 基本設計書
- API設計書
- （任意）簡易詳細設計
- ソースコード
- テストメモ
- README

---

## PMから新人へのメッセージ

- 分からないことはAIに聞いてOK
- **「なぜこの構成にしたか」を説明できれば合格**
